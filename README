Mock implementation of a management console.

See demo-howto.txt for usage.

Building and Installation
-------------------------

To compile Postgres:
  sudo apt build-dep postgresql
  sudo apt install bison flex libz-dev libssl-dev
  sudo apt install ccache
  sudo apt install libcurl4-openssl-dev libxml2-dev

For the webapp:
  sudo apt install python3 python3-flask python3-pip webpack
  pip3 install Flask-BasicAuth
  pip3 install boto3

git clone and compile and install patched version of Postgres:

  git clone https://github.com/hlinnaka/postgres.git
  cd postgres
  git checkout zenith-experiments
  ./configure --enable-debug --enable-cassert --with-openssl --prefix=/home/heikki/pgsql-install --with-libxml CC="ccache gcc" CFLAGS="-O0"
  make -j4 -s install
  

Get the webapp:
  cd ~
  git clone https://github.com/hlinnaka/zenith-mgmt-console.git
  cd zenith-mgmt-console
  mkdir pgdatadirs


  openssl req -new -x509 -days 365 -nodes -text -out server.crt \
    -keyout server.key -subj "/CN=zenith-demo"

Compile & run it:
  webpack # compile React app
  PATH=/home/heikki/pgsql-install/bin:$PATH BASIC_AUTH_PASSWORD=<password> python3 app.py

  PATH=/home/heikki/pgsql-install/bin:$PATH BASIC_AUTH_PASSWORD=<password> flask run --host=0.0.0.0


  S3_REGION=auto S3_ACCESSKEY=<accesskey> S3_SECRET=<secret> S3_ENDPOINT=https://storage.googleapis.com S3_BUCKET=zenith-testbucket PATH=/home/heikki/pgsql-install/bin:$PATH BASIC_AUTH_PASSWORD=<password> flask run --host=0.0.0.0


You can view the contents of the S3 bucket with browser:

http://<server>/list_bucket
